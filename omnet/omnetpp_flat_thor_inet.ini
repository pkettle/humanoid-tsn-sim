[General]
network = omnet.FlatThorInet
sim-time-limit = 0.5s
result-dir = "results"

# -----------------------------------------------------------------------------
# Global recording defaults
# -----------------------------------------------------------------------------
**.scalar-recording       = true
**.vector-recording       = true
**.result-recording-modes = all    # allow all forms: scalar, vector, hist

# -----------------------------------------------------------------------------
# Core IPv4 configuration
# -----------------------------------------------------------------------------
*.configurator.addStaticRoutes               = true
*.configurator.addDefaultRoutes              = true
*.configurator.optimizeRoutes                = true
*.configurator.assignDisjunctSubnetAddresses = true

# -----------------------------------------------------------------------------
# UDP traffic: thor -> zone[0]
# -----------------------------------------------------------------------------
*.thor.numApps    = 1
*.zone[*].numApps = 1

*.thor.app[0].typename      = "UdpBasicApp"
*.thor.app[0].destAddresses = "zone[0]"
*.thor.app[0].destPort      = 5000
*.thor.app[0].messageLength = 512B
*.thor.app[0].sendInterval  = 1ms
*.thor.app[0].startTime     = 0.001s
*.thor.app[0].stopTime      = 0.4s
*.thor.app[0].packetName    = "thor_to_zone0"

*.zone[*].app[0].typename                 = "UdpSink"
*.zone[*].app[0].localPort                = 5000
*.zone[*].app[0].joinLocalMulticastGroups = false
*.zone[*].app[0].receiveBroadcast         = true

# -----------------------------------------------------------------------------
# UDP application statistics
# -----------------------------------------------------------------------------
# Make sure the apps themselves are allowed to emit statistics
*.thor.app[*].recordStatistics  = true
*.zone[*].app[*].recordStatistics = true

# Enable the common UDP statistics
**.packetSent.statistic-recording       = true
**.packetReceived.statistic-recording   = true
**.sentPk.statistic-recording           = true
**.rcvdPk.statistic-recording           = true
**.throughput.statistic-recording       = true

# Enable delay-related stats globally (for any module that defines them)
**.endToEndDelay.statistic-recording    = true
**.oneWayDelay.statistic-recording      = true
**.delay.statistic-recording            = true

# Force the *receiver* app to record endToEndDelay as a vector
*.zone[*].app[0].endToEndDelay.result-recording-modes = "vector,histogram"

# -----------------------------------------------------------------------------
# MAC / queue stats (TSN-ready)
# -----------------------------------------------------------------------------
**.mac.recordStatistics     = true
**.mac.queue.packetCapacity = -1
