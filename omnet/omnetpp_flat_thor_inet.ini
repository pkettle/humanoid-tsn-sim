[General]
description = "Flat Thor + 3 Zones Ethernet Topology (INET)"

# ----------------------------------------------------------------------
# Network
# ----------------------------------------------------------------------
network = omnet.FlatThorInet
sim-time-limit = 10ms

# ----------------------------------------------------------------------
# Results
# ----------------------------------------------------------------------
result-dir = "../results/flat_thor_inet"
record-eventlog = true
eventlog-file = "../results/flat_thor_inet/flat_thor_inet.elog"

# Record all vectors (small network → OK)
**.vector-recording = true

# ----------------------------------------------------------------------
# Topology (matches flat_thor_inet.ned)
# ----------------------------------------------------------------------
FlatThorInet.thor.numEthInterfaces    = 1
FlatThorInet.core0.numEthInterfaces   = 4    # thor + 3 access

FlatThorInet.access0.numEthInterfaces = 2    # core0 <-> zone0
FlatThorInet.access1.numEthInterfaces = 2    # core0 <-> zone1
FlatThorInet.access2.numEthInterfaces = 2    # core0 <-> zone2

FlatThorInet.zone0.numEthInterfaces   = 1
FlatThorInet.zone1.numEthInterfaces   = 1
FlatThorInet.zone2.numEthInterfaces   = 1

# ----------------------------------------------------------------------
# IPv4 configuration
# ----------------------------------------------------------------------
*.thor.hasIpv4   = true
*.zone0.hasIpv4  = true
*.zone1.hasIpv4  = true
*.zone2.hasIpv4  = true

*.thor.ipv4.ip   = "10.0.0.1"
*.zone0.ipv4.ip  = "10.0.0.10"
*.zone1.ipv4.ip  = "10.0.0.11"
*.zone2.ipv4.ip  = "10.0.0.12"

*.thor.ipv4.netmask   = "255.255.255.0"
*.zone0.ipv4.netmask  = "255.255.255.0"
*.zone1.ipv4.netmask  = "255.255.255.0"
*.zone2.ipv4.netmask  = "255.255.255.0"

# Pure L2 switching; no routing needed
*.**.routingTable.netmaskRoutes   = ""
*.**.routingTable.multicastRoutes = ""

# ----------------------------------------------------------------------
# UdpBasicApp traffic: each zone → Thor
#   We configure BOTH app[] and udpApp[] so it works across INET variants
# ----------------------------------------------------------------------

# Thor: no apps (sink only)
*.thor.numApps    = 0
*.thor.numUdpApps = 0

# -------------------------- Zone 0 → Thor (UDP 5000) -------------------
*.zone0.numApps = 1
*.zone0.app[0].typename      = "UdpBasicApp"
*.zone0.app[0].destAddresses = "10.0.0.1"
*.zone0.app[0].destPort      = 5000
*.zone0.app[0].messageLength = 512B
*.zone0.app[0].sendInterval  = 1ms
*.zone0.app[0].startTime     = 1ms
*.zone0.app[0].stopTime      = 9ms

*.zone0.numUdpApps = 1
*.zone0.udpApp[0].typename      = "UdpBasicApp"
*.zone0.udpApp[0].destAddresses = "10.0.0.1"
*.zone0.udpApp[0].destPort      = 5000
*.zone0.udpApp[0].messageLength = 512B
*.zone0.udpApp[0].sendInterval  = 1ms
*.zone0.udpApp[0].startTime     = 1ms
*.zone0.udpApp[0].stopTime      = 9ms

# -------------------------- Zone 1 → Thor (UDP 5001) -------------------
*.zone1.numApps = 1
*.zone1.app[0].typename      = "UdpBasicApp"
*.zone1.app[0].destAddresses = "10.0.0.1"
*.zone1.app[0].destPort      = 5001
*.zone1.app[0].messageLength = 512B
*.zone1.app[0].sendInterval  = 1ms
*.zone1.app[0].startTime     = 1ms
*.zone1.app[0].stopTime      = 9ms

*.zone1.numUdpApps = 1
*.zone1.udpApp[0].typename      = "UdpBasicApp"
*.zone1.udpApp[0].destAddresses = "10.0.0.1"
*.zone1.udpApp[0].destPort      = 5001
*.zone1.udpApp[0].messageLength = 512B
*.zone1.udpApp[0].sendInterval  = 1ms
*.zone1.udpApp[0].startTime     = 1ms
*.zone1.udpApp[0].stopTime      = 9ms

# -------------------------- Zone 2 → Thor (UDP 5002) -------------------
*.zone2.numApps = 1
*.zone2.app[0].typename      = "UdpBasicApp"
*.zone2.app[0].destAddresses = "10.0.0.1"
*.zone2.app[0].destPort      = 5002
*.zone2.app[0].messageLength = 512B
*.zone2.app[0].sendInterval  = 1ms
*.zone2.app[0].startTime     = 1ms
*.zone2.app[0].stopTime      = 9ms

*.zone2.numUdpApps = 1
*.zone2.udpApp[0].typename      = "UdpBasicApp"
*.zone2.udpApp[0].destAddresses = "10.0.0.1"
*.zone2.udpApp[0].destPort      = 5002
*.zone2.udpApp[0].messageLength = 512B
*.zone2.udpApp[0].sendInterval  = 1ms
*.zone2.udpApp[0].startTime     = 1ms
*.zone2.udpApp[0].stopTime      = 9ms
